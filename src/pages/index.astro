---
import Layout from '../layouts/Layout.astro';
import AdSense from '../components/AdSense.astro';
import { getCollection } from 'astro:content';
const posts = (await getCollection('blog')).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()).slice(0, 3);
---
<Layout title="Proteção Digital Gratuita para Brasileiros" description="Verifique senhas, detecte URLs maliciosas e descubra vazamentos de dados. Ferramentas gratuitas de cibersegurança feitas para o Brasil.">

  <!-- HERO -->
  <section style="position:relative;overflow:hidden;padding:72px 20px 88px;background:var(--bg);">
    <div class="dot-bg" style="position:absolute;inset:0;pointer-events:none;opacity:0.5;"></div>
    <div style="position:absolute;top:-120px;left:50%;transform:translateX(-50%);width:700px;height:500px;background:radial-gradient(ellipse,rgba(79,142,247,0.07) 0%,transparent 70%);pointer-events:none;"></div>

    <div style="max-width:860px;margin:0 auto;text-align:center;position:relative;">
      <!-- Status pill -->
      <div class="animate-slide-up" style="display:inline-flex;align-items:center;gap:8px;background:var(--surface);border:1px solid var(--border2);border-radius:100px;padding:5px 14px 5px 10px;margin-bottom:32px;">
        <span class="status-dot"></span>
        <span style="font-family:var(--font-mono);font-size:12px;color:var(--text-dim);">Sistema Operacional</span>
        <span style="font-size:12px;color:var(--text-muted);">·</span>
        <span style="font-family:var(--font-mono);font-size:12px;color:var(--text-muted);">protetordigital.com.br</span>
      </div>

      <h1 class="animate-slide-up stagger-1" style="font-family:var(--font-sans);font-size:clamp(2.4rem,6vw,3.8rem);font-weight:800;letter-spacing:-0.04em;line-height:1.05;color:var(--text);margin-bottom:22px;">
        Segurança Digital<br/>
        <span style="color:var(--blue);">sem compromissos</span>
      </h1>

      <p class="animate-slide-up stagger-2" style="font-size:clamp(1rem,2.2vw,1.15rem);color:var(--text-dim);max-width:520px;margin:0 auto 44px;line-height:1.65;">
        Ferramentas profissionais de cibersegurança, <strong style="color:var(--text);font-weight:700;">100% gratuitas</strong> e sem cadastro. Proteção real para o brasileiro.
      </p>

      <div class="animate-slide-up stagger-3" style="display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-bottom:60px;">
        <a href="/tools/senha" class="btn-primary" style="padding:13px 26px;font-size:14px;text-decoration:none;">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          Analisar Senha
        </a>
        <a href="/tools/vazamento" class="btn-ghost" style="padding:13px 26px;font-size:14px;text-decoration:none;">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>
          Verificar Vazamentos
        </a>
      </div>

      <!-- Stats grid -->
      <div class="animate-slide-up stagger-4" style="display:grid;grid-template-columns:repeat(2,1fr);gap:1px;background:var(--border);border:1px solid var(--border);border-radius:12px;overflow:hidden;max-width:600px;margin:0 auto;">
        {[
          { v: '15B+', l: 'Credenciais indexadas' },
          { v: '<50ms', l: 'Latência de verificação' },
          { v: '100%', l: 'Análise local — zero upload' },
          { v: 'LGPD', l: 'Conformidade garantida' },
        ].map(({ v, l }) => (
          <div style="background:var(--surface);padding:22px 16px;text-align:center;">
            <div style="font-family:var(--font-sans);font-size:1.65rem;font-weight:800;color:var(--blue);letter-spacing:-0.03em;">{v}</div>
            <div style="font-size:12px;color:var(--text-muted);margin-top:4px;font-family:var(--font-mono);">{l}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- TOOLS SECTION -->
  <section style="padding:64px 20px;background:var(--bg2);border-top:1px solid var(--border);">
    <div style="max-width:1100px;margin:0 auto;">
      <div style="margin-bottom:40px;">
        <span class="tag tag-blue" style="margin-bottom:12px;display:inline-block;">Ferramentas disponíveis</span>
        <h2 style="font-family:var(--font-sans);font-size:clamp(1.5rem,3.5vw,2rem);font-weight:800;color:var(--text);letter-spacing:-0.03em;">Proteção em 3 camadas</h2>
      </div>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:14px;">
        {[
          {
            href: '/tools/senha',
            num: '01',
            accentVar: 'var(--blue)',
            title: 'Analisador de Senhas',
            desc: 'Score em tempo real, estimativa de quebra e verificação no banco HIBP com 15 bilhões de credenciais comprometidas. Gerador criptograficamente seguro incluso.',
            tags: ['100% Local', 'HIBP', 'OWASP'],
            icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>`,
          },
          {
            href: '/tools/link',
            num: '02',
            accentVar: 'var(--cyan)',
            title: 'Scanner de URLs',
            desc: 'Detecte malware, phishing e sites maliciosos antes de clicar. Powered by Google Safe Browsing com cache Cloudflare em menos de 50ms.',
            tags: ['Safe Browsing', '<50ms', 'Phishing'],
            icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>`,
          },
          {
            href: '/tools/vazamento',
            num: '03',
            accentVar: 'var(--amber)',
            title: 'Verificador de Vazamentos',
            desc: 'Descubra se seu email apareceu em algum dos 700+ vazamentos catalogados. Relatório completo com guia de ações e direitos LGPD.',
            tags: ['HIBP v3', 'LGPD', '700+ Breaches'],
            icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>`,
          },
        ].map(tool => (
          <a href={tool.href} class="card card-hover" style="padding:28px;text-decoration:none;display:block;transition:transform 0.2s;" onmouseover="this.style.transform='translateY(-3px)'" onmouseout="this.style.transform='translateY(0)'">
            <div style="display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:20px;">
              <div style={`width:44px;height:44px;border-radius:10px;background:${tool.accentVar}14;border:1px solid ${tool.accentVar}28;display:flex;align-items:center;justify-content:center;color:${tool.accentVar};`} set:html={tool.icon}></div>
              <span class="font-mono" style={`font-size:11px;color:${tool.accentVar};opacity:0.5;`}>{tool.num}</span>
            </div>
            <h3 style="font-family:var(--font-sans);font-size:1.05rem;font-weight:700;color:var(--text);margin-bottom:10px;letter-spacing:-0.02em;">{tool.title}</h3>
            <p style="font-size:13px;color:var(--text-dim);line-height:1.65;margin-bottom:16px;">{tool.desc}</p>
            <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:20px;">
              {tool.tags.map(t => <span class="tag">{t}</span>)}
            </div>
            <div style={`font-family:var(--font-mono);font-size:12px;color:${tool.accentVar};display:flex;align-items:center;gap:6px;`}>
              Acessar ferramenta <span>→</span>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <AdSense slot="MID_PAGE_SLOT_ID" format="auto" className="my-4" />

  <!-- BLOG -->
  {posts.length > 0 && (
    <section style="padding:64px 20px;background:var(--bg);border-top:1px solid var(--border);">
      <div style="max-width:1100px;margin:0 auto;">
        <div style="display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:36px;flex-wrap:wrap;gap:12px;">
          <div>
            <span class="tag tag-cyan" style="margin-bottom:10px;display:inline-block;">Publicações recentes</span>
            <h2 style="font-family:var(--font-sans);font-size:clamp(1.3rem,3vw,1.8rem);font-weight:800;color:var(--text);letter-spacing:-0.03em;">Blog de Segurança</h2>
          </div>
          <a href="/blog" style="font-family:var(--font-mono);font-size:13px;color:var(--blue);text-decoration:none;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">Ver todos →</a>
        </div>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:14px;">
          {posts.map(post => (
            <a href={`/blog/${post.slug}`} class="card card-hover" style="text-decoration:none;display:block;padding:24px;transition:transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
              <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:14px;">
                {post.data.tags.slice(0,2).map(tag => <span class="tag tag-cyan">#{tag}</span>)}
              </div>
              <h3 style="font-family:var(--font-sans);font-size:1rem;font-weight:700;color:var(--text);margin-bottom:8px;line-height:1.35;letter-spacing:-0.02em;">{post.data.title}</h3>
              <p style="font-size:13px;color:var(--text-dim);line-height:1.6;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">{post.data.description}</p>
              <div style="display:flex;justify-content:space-between;align-items:center;">
                <span style="font-size:11px;color:var(--text-muted);">{post.data.author}</span>
                <time style="font-family:var(--font-mono);font-size:11px;color:var(--text-muted);" datetime={post.data.pubDate.toISOString()}>
                  {post.data.pubDate.toLocaleDateString('pt-BR', { day:'2-digit', month:'short', year:'numeric' })}
                </time>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- TRUST -->
  <section style="padding:64px 20px;background:var(--bg2);border-top:1px solid var(--border);">
    <div style="max-width:1100px;margin:0 auto;">
      <h2 style="font-family:var(--font-sans);font-size:1.3rem;font-weight:800;color:var(--text);text-align:center;margin-bottom:36px;letter-spacing:-0.02em;">Por que confiar no ProtetorDigital?</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;">
        {[
          {
            icon: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>`,
            color: 'var(--blue)',
            title: 'Zero Upload de Senhas',
            desc: 'Senhas são analisadas 100% no seu dispositivo. Nada é transmitido para servidores externos.',
          },
          {
            icon: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>`,
            color: 'var(--cyan)',
            title: 'Infraestrutura Cloudflare',
            desc: 'Edge computing distribuído em 300+ cidades. Latência inferior a 50ms em qualquer ponto do Brasil.',
          },
          {
            icon: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>`,
            color: 'var(--emerald)',
            title: 'LGPD Compliant',
            desc: 'Conformidade total. Sem cookies desnecessários, sem rastreamento invasivo de comportamento.',
          },
          {
            icon: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`,
            color: 'var(--amber)',
            title: 'Sempre Gratuito',
            desc: 'Ferramentas profissionais sem custo, sem cadastro obrigatório e sem coleta de dados pessoais.',
          },
        ].map(item => (
          <div class="card" style="padding:24px;">
            <div style={`width:40px;height:40px;border-radius:10px;background:${item.color}14;border:1px solid ${item.color}28;display:flex;align-items:center;justify-content:center;color:${item.color};margin-bottom:14px;`} set:html={item.icon}></div>
            <h3 style="font-family:var(--font-sans);font-size:0.92rem;font-weight:700;color:var(--text);margin-bottom:8px;letter-spacing:-0.01em;">{item.title}</h3>
            <p style="font-size:13px;color:var(--text-dim);line-height:1.65;">{item.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>
</Layout>
