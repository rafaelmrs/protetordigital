<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contato — Protetor Digital</title>
<meta name="description" content="Entre em contato com o Protetor Digital. Dúvidas, sugestões ou reporte um problema.">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="/css/design-system.css">
</head>
<body>
<div id="slot-sidebar"></div>
<div class="main-area">
  <div id="slot-header"></div>
  <main class="content-area" id="main-content">

    <header class="ferramenta-header">
      <span class="ferramenta-badge" style="background:#F1F3F6;color:var(--cinza-escuro);">Contato</span>
      <h1 class="ferramenta-titulo">Fale com a gente</h1>
      <p class="ferramenta-subtitulo">Dúvidas, sugestões ou encontrou algum problema? Responderemos em até 48 horas úteis.</p>
    </header>

    <div class="ferramenta-layout">
      <div>
        <div class="ferramenta-barra-superior">
          <form id="form-contato" onsubmit="enviarContato(event)" novalidate>
            <div class="form-grupo">
              <label class="form-label" for="contato-nome">Seu nome</label>
              <input type="text" id="contato-nome" class="form-input" placeholder="Como prefere ser chamado?" required autocomplete="name">
            </div>
            <div class="form-grupo">
              <label class="form-label" for="contato-email">Seu e-mail</label>
              <input type="email" id="contato-email" class="form-input" placeholder="para@responder.com" required autocomplete="email" inputmode="email">
            </div>
            <div class="form-grupo">
              <label class="form-label" for="contato-assunto">Assunto</label>
              <select id="contato-assunto" class="form-input" style="cursor:pointer;" required>
                <option value="">Selecione o assunto…</option>
                <option value="duvida">Dúvida sobre uma ferramenta</option>
                <option value="sugestao">Sugestão de melhoria</option>
                <option value="problema">Reportar um problema</option>
                <option value="privacidade">Questão de privacidade</option>
                <option value="outro">Outro</option>
              </select>
            </div>
            <div class="form-grupo">
              <label class="form-label" for="contato-mensagem">Mensagem</label>
              <textarea id="contato-mensagem" class="form-input" rows="5" placeholder="Descreva sua dúvida ou sugestão em detalhes…" required style="resize:vertical;line-height:1.6;font-family:var(--font-body);"></textarea>
            </div>
            <button type="submit" class="btn btn-primario" style="width:100%;">
              <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
              Enviar mensagem
            </button>
          </form>
          <div id="resultado-contato" aria-live="polite"></div>
        </div>
      </div>

      <div>
        <div class="info-card">
          <div class="info-card-header"><span class="info-card-titulo">Sobre o suporte</span></div>
          <ul class="dica-lista">
            <li class="dica-item"><svg class="dica-item-icone dica-ok" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true"><polyline points="20 6 9 17 4 12"/></svg>Respondemos em até 48h úteis</li>
            <li class="dica-item"><svg class="dica-item-icone dica-ok" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true"><polyline points="20 6 9 17 4 12"/></svg>Atendimento em português do Brasil</li>
            <li class="dica-item"><svg class="dica-item-icone dica-ok" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true"><polyline points="20 6 9 17 4 12"/></svg>Seu e-mail é usado apenas para responder</li>
          </ul>
        </div>
        <div class="alerta alerta-info" style="margin-top:1rem;">
          <svg class="alerta-icone" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          <div class="alerta-conteudo">
            <div class="alerta-titulo">Encontrou um bug?</div>
            <div class="alerta-texto">Descreva o que aconteceu, qual ferramenta estava usando e, se possível, o erro que apareceu. Isso nos ajuda a resolver mais rapidamente.</div>
          </div>
        </div>
      </div>
    </div>

  </main>
  <div id="slot-footer"></div>
</div>

<script src="/js/app.js"></script>
<script>
const ASSUNTOS = {
  duvida: 'Dúvida sobre uma ferramenta',
  sugestao: 'Sugestão de melhoria',
  problema: 'Reportar um problema',
  privacidade: 'Questão de privacidade',
  outro: 'Outro',
};

function enviarContato(e) {
  e.preventDefault();
  const nome = document.getElementById('contato-nome').value.trim();
  const email = document.getElementById('contato-email').value.trim();
  const assunto = document.getElementById('contato-assunto').value;
  const mensagem = document.getElementById('contato-mensagem').value.trim();
  const resultado = document.getElementById('resultado-contato');

  if (!nome || !email || !assunto || !mensagem) {
    resultado.innerHTML = `<div class="alerta alerta-atencao">
      <svg class="alerta-icone" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/></svg>
      <div class="alerta-conteudo"><div class="alerta-titulo">Preencha todos os campos</div><div class="alerta-texto">Todos os campos são obrigatórios para enviar a mensagem.</div></div>
    </div>`;
    return;
  }

  const assuntoLabel = ASSUNTOS[assunto] || assunto;
  const corpo = `Nome: ${nome}\nE-mail: ${email}\nAssunto: ${assuntoLabel}\n\nMensagem:\n${mensagem}`;
  const mailtoLink = `mailto:contato@protetordigital.com?subject=${encodeURIComponent('[Protetor Digital] ' + assuntoLabel)}&body=${encodeURIComponent(corpo)}`;

  window.location.href = mailtoLink;

  // Feedback imediato — o mailto abrirá o cliente de e-mail do usuário
  resultado.innerHTML = `<div class="alerta alerta-info" style="margin-top:1rem;">
    <svg class="alerta-icone" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
    <div class="alerta-conteudo">
      <div class="alerta-titulo">Seu aplicativo de e-mail foi aberto</div>
      <div class="alerta-texto">A mensagem foi preparada com seus dados. Confirme o envio no seu aplicativo de e-mail. Se preferir, envie diretamente para <strong>contato@protetordigital.com</strong>.</div>
    </div>
  </div>`;
}
</script>
</body>
</html>
